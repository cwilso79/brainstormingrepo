<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moody's for Governments - Pricing & Packaging Configurator</title>
    <style>
        /* Reset */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* Base */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #0a1628 0%, #1a365d 100%);
            min-height: 100vh;
            color: #1a202c;
            line-height: 1.6;
        }

        /* Layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            color: white;
            padding: 40px 20px;
            margin-bottom: 30px;
        }

        .header-logo {
            font-size: 1.2rem;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 20px;
            color: #60a5fa;
        }

        .header h1 {
            font-size: 2.4rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #fff 0%, #93c5fd 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.85;
        }

        /* Package Showcase Section */
        .packages-section {
            background: white;
            border-radius: 20px;
            padding: 50px 40px;
            margin-bottom: 40px;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
        }

        .section-title {
            text-align: center;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #1a365d;
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.05rem;
            color: #64748b;
            margin-bottom: 40px;
        }

        /* Package Cards */
        .packages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .package-card {
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .package-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.12);
        }

        .package-card.intelligence { border-color: #1d4ed8; }
        .package-card.investigations { border-color: #7c3aed; }
        .package-card.supply-chain { border-color: #059669; }

        .package-header {
            padding: 28px;
            color: white;
        }

        .package-card.intelligence .package-header {
            background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);
        }

        .package-card.investigations .package-header {
            background: linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%);
        }

        .package-card.supply-chain .package-header {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }

        .package-icon { font-size: 2.5rem; margin-bottom: 12px; }
        .package-name { font-size: 1.5rem; font-weight: 700; margin-bottom: 6px; }
        .package-tagline { font-size: 0.9rem; opacity: 0.9; }

        .package-body { padding: 25px; }

        .package-features { list-style: none; }

        .package-features li {
            padding: 8px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 0.9rem;
            color: #475569;
        }

        .package-features li::before {
            content: '‚úì';
            color: #059669;
            font-weight: bold;
            flex-shrink: 0;
        }

        /* Base Offering Box */
        .base-offering {
            background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
            border: 1px solid #3b82f6;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 40px;
        }

        .base-offering h3 {
            color: #1e40af;
            margin-bottom: 15px;
            font-size: 1.15rem;
        }

        .base-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 10px;
        }

        .base-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            background: white;
            border-radius: 8px;
            font-size: 0.9rem;
            color: #1a365d;
            font-weight: 500;
        }

        .base-item::before { content: 'üì¶'; }

        /* Configurator Card */
        .configurator-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 80px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* Progress Bar */
        .progress-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 25px 20px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .progress-step {
            display: flex;
            align-items: center;
            padding: 12px 24px;
            border-radius: 30px;
            background: #e2e8f0;
            color: #64748b;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .progress-step.active {
            background: linear-gradient(135deg, #1a365d 0%, #0a1628 100%);
            color: white;
        }

        .progress-step.completed {
            background: #059669;
            color: white;
        }

        .progress-step .step-number {
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: rgba(255,255,255,0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .progress-arrow {
            color: #cbd5e0;
            font-size: 1.4rem;
            margin: 0 8px;
        }

        /* Content Area */
        .content-area {
            padding: 50px;
            min-height: 550px;
        }

        .step-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .step-content.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #1a365d;
        }

        .step-subtitle {
            font-size: 1rem;
            color: #64748b;
            margin-bottom: 35px;
        }

        /* Selection Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .cards-grid-3 { grid-template-columns: repeat(3, 1fr); }
        .cards-grid-4 { grid-template-columns: repeat(4, 1fr); }

        @media (max-width: 1200px) {
            .cards-grid-3, .cards-grid-4 { grid-template-columns: repeat(2, 1fr); }
        }

        @media (max-width: 768px) {
            .cards-grid-3, .cards-grid-4 { grid-template-columns: 1fr; }
        }

        /* Selection Card */
        .selection-card {
            border: 2px solid #e2e8f0;
            border-radius: 14px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            background: white;
        }

        .selection-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-color: #1a365d;
        }

        .selection-card.selected {
            border-color: #1d4ed8;
            background: linear-gradient(135deg, rgba(29,78,216,0.05) 0%, rgba(30,64,175,0.05) 100%);
            box-shadow: 0 10px 30px rgba(29,78,216,0.2);
        }

        .selection-card input {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .card-header {
            display: flex;
            align-items: flex-start;
            gap: 14px;
            margin-bottom: 12px;
        }

        .card-radio {
            width: 24px;
            height: 24px;
            border: 2px solid #cbd5e0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .selection-card.selected .card-radio {
            background: #1d4ed8;
            border-color: #1d4ed8;
        }

        .card-radio::after {
            content: '‚úì';
            color: white;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .selection-card.selected .card-radio::after { opacity: 1; }

        .card-title {
            font-size: 1.15rem;
            font-weight: 600;
            color: #1a365d;
        }

        .card-description {
            font-size: 0.9rem;
            color: #64748b;
            line-height: 1.5;
        }

        .card-guidance {
            font-size: 0.85rem;
            color: #475569;
            line-height: 1.6;
            margin-top: 12px;
            padding: 12px;
            background: #f0f9ff;
            border-left: 3px solid #3b82f6;
            border-radius: 0 8px 8px 0;
            font-style: italic;
        }

        /* Feature list in cards */
        .card-features {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e2e8f0;
        }

        .card-features-title {
            font-size: 0.8rem;
            font-weight: 600;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }

        .card-features ul { list-style: none; }

        .card-features li {
            font-size: 0.85rem;
            color: #475569;
            padding: 4px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-features li::before {
            content: '‚Ä¢';
            color: #3b82f6;
            font-weight: bold;
        }

        /* Tier Badge */
        .tier-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 10px;
        }

        .tier-badge.standard { background: #dbeafe; color: #1e40af; }
        .tier-badge.plus { background: #ede9fe; color: #5b21b6; }
        .tier-badge.premium { background: #fef3c7; color: #92400e; }

        /* Form Section */
        .form-section {
            background: #f8fafc;
            border-radius: 14px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .form-section-title {
            font-size: 1.15rem;
            font-weight: 600;
            color: #1a365d;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e2e8f0;
        }

        .form-group { margin-bottom: 25px; }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 10px;
            color: #1a365d;
        }

        .form-help {
            font-size: 0.85rem;
            color: #64748b;
            margin-top: 8px;
        }

        /* Number Input */
        .user-input-wrapper {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        input.form-input {
            width: 150px;
            padding: 16px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s ease;
        }

        input.form-input:focus {
            outline: none;
            border-color: #1d4ed8;
            box-shadow: 0 0 0 3px rgba(29,78,216,0.2);
        }

        .volume-tier-display {
            background: #eff6ff;
            border: 1px solid #3b82f6;
            border-radius: 10px;
            padding: 12px 20px;
            font-size: 0.9rem;
            color: #1e40af;
        }

        .volume-tier-display strong {
            display: block;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
            color: #64748b;
        }

        select.form-select {
            width: 100%;
            max-width: 400px;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23475569' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
        }

        select.form-select:focus {
            outline: none;
            border-color: #1d4ed8;
            box-shadow: 0 0 0 3px rgba(29,78,216,0.2);
        }

        /* Info Alert */
        .info-alert {
            background: linear-gradient(135deg, rgba(59,130,246,0.1) 0%, rgba(59,130,246,0.05) 100%);
            border: 1px solid #3b82f6;
            border-radius: 12px;
            padding: 18px 22px;
            display: flex;
            align-items: flex-start;
            gap: 14px;
            margin: 25px 0;
        }

        .info-alert-icon { font-size: 1.3rem; flex-shrink: 0; }

        .info-alert-text {
            font-size: 0.95rem;
            color: #1a365d;
        }

        /* Quote Summary Styles */
        .quote-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 30px;
        }

        @media (max-width: 900px) {
            .quote-grid { grid-template-columns: 1fr; }
        }

        .quote-section { margin-bottom: 25px; }

        .quote-section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1a365d;
            margin-bottom: 18px;
            padding-bottom: 12px;
            border-bottom: 2px solid #e2e8f0;
        }

        .quote-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f1f5f9;
        }

        .quote-item:last-child { border-bottom: none; }
        .quote-item-label { color: #475569; }
        .quote-item-value { font-weight: 600; color: #1a365d; }

        /* Feature Pills */
        .feature-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .feature-pill {
            background: #eff6ff;
            color: #1e40af;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Pricing Card */
        .pricing-card {
            background: linear-gradient(135deg, #1a365d 0%, #0a1628 100%);
            color: white;
            border-radius: 16px;
            padding: 35px;
            margin: 30px 0;
        }

        .pricing-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255,255,255,0.15);
        }

        .pricing-row:last-child { border-bottom: none; }

        .pricing-row.total {
            margin-top: 15px;
            padding-top: 25px;
            border-top: 2px solid rgba(255,255,255,0.4);
            border-bottom: none;
        }

        .pricing-label { font-size: 1rem; }
        .pricing-value { font-size: 1.1rem; font-weight: 600; }

        .pricing-row.total .pricing-label { font-size: 1.3rem; font-weight: 700; }
        .pricing-row.total .pricing-value { font-size: 2.4rem; font-weight: 700; }

        /* Navigation */
        .navigation {
            display: flex;
            justify-content: space-between;
            padding: 25px 50px;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
        }

        .btn {
            padding: 14px 35px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #1a365d 0%, #0a1628 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(26,54,93,0.4);
        }

        .btn-secondary { background: #e2e8f0; color: #475569; }
        .btn-secondary:hover { background: #cbd5e0; }

        .btn-success { background: #059669; color: white; }
        .btn-success:hover { background: #047857; }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }

        .hidden { display: none !important; }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 1.8rem; }
            .content-area { padding: 30px 20px; }
            .packages-section { padding: 30px 20px; }
            .progress-bar { padding: 15px; }
            .progress-step { padding: 10px 16px; font-size: 0.8rem; }
            .progress-arrow { display: none; }
            .navigation {
                flex-direction: column;
                gap: 15px;
                padding: 20px;
            }
            .btn { width: 100%; justify-content: center; }
            .packages-grid { grid-template-columns: 1fr; }
        }

        .package-features-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #e2e8f0;
        }

        .features-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-logo">MOODY'S</div>
            <h1>üèõÔ∏è Moody's for Governments</h1>
            <p>Security, Intelligence & Law Enforcement</p>
            <p style="opacity: 0.7; margin-top: 8px;">Pricing & Packaging Configurator</p>
        </header>

        <!-- Package Showcase Section -->
        <section class="packages-section">
            <h2 class="section-title">Use Case Specific Bundles</h2>
            <p class="section-subtitle">Choose from three specialized solutions designed for security, intelligence, and law enforcement agencies</p>

            <!-- Base Offering -->
            <div class="base-offering">
                <h3>üì¶ SILE Base Package - Included in All Solutions</h3>
                <p style="color: #1e40af; margin-bottom: 15px; line-height: 1.6;">The SILE base package gives every customer a strong intelligence foundation by combining core company data, ownership structures, and integrated risk insights. It ensures all missions start from a consistent, trusted view of entities and relationships, with the flexibility to add specialised modules as needs grow.</p>
                <div class="base-items">
                    <div class="base-item">Orbis Global</div>
                    <div class="base-item">Beneficial Ownership</div>
                    <div class="base-item">Orbis T-Rank</div>
                    <div class="base-item">GRID Review</div>
                </div>
            </div>

            <!-- Package Cards -->
            <div class="packages-grid">
                <!-- Intelligence Package -->
                <div class="package-card intelligence">
                    <div class="package-header">
                        <div class="package-icon">üîç</div>
                        <div class="package-name">Intelligence</div>
                        <div class="package-tagline">Strategic insights for national security & policy</div>
                    </div>
                    <div class="package-body">
                        <ul class="package-features">
                            <li>Advanced entity intelligence gathering</li>
                            <li>Cross-border ownership analysis</li>
                            <li>Risk assessment & threat detection</li>
                            <li>Strategic partnership intelligence</li>
                        </ul>
                        <div class="package-features-section">
                            <div class="features-label">Standard Add-On</div>
                            <div class="feature-pills">
                                <span class="feature-pill">T-Rank Power & Coalitions</span>
                                <span class="feature-pill">Orbis IP</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Investigations Package -->
                <div class="package-card investigations">
                    <div class="package-header">
                        <div class="package-icon">üîé</div>
                        <div class="package-name">Investigations</div>
                        <div class="package-tagline">Deep-dive investigations & compliance checks</div>
                    </div>
                    <div class="package-body">
                        <ul class="package-features">
                            <li>Detailed entity investigations</li>
                            <li>Beneficial ownership mapping</li>
                            <li>Financial crime detection</li>
                            <li>Regulatory compliance checks</li>
                        </ul>
                        <div class="package-features-section">
                            <div class="features-label">Standard Add-On</div>
                            <div class="feature-pills">
                                <span class="feature-pill">T-Rank Power & Coalitions</span>
                                <span class="feature-pill">State Owned Entities</span>
                                <span class="feature-pill">ICIJ</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Supply Chain Risk Package -->
                <div class="package-card supply-chain">
                    <div class="package-header">
                        <div class="package-icon">üîó</div>
                        <div class="package-name">Supply Chain Risk</div>
                        <div class="package-tagline">Vendor risk & supply chain integrity</div>
                    </div>
                    <div class="package-body">
                        <ul class="package-features">
                            <li>Vendor & supplier screening</li>
                            <li>Entity volume monitoring</li>
                            <li>Supply chain risk mapping</li>
                            <li>Procurement compliance</li>
                        </ul>
                        <div class="package-features-section">
                            <div class="features-label">Standard Add-On</div>
                            <div class="feature-pills">
                                <span class="feature-pill">Financial Strength</span>
                                <span class="feature-pill">ESG Score</span>
                                <span class="feature-pill">Probability of Default</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- Configurator Card -->
        <div class="configurator-card">
            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-step active" id="progress-1">
                    <span class="step-number">1</span>
                    Use Case
                </div>
                <span class="progress-arrow">‚Üí</span>
                <div class="progress-step" id="progress-2">
                    <span class="step-number">2</span>
                    Users & Package
                </div>
                <span class="progress-arrow">‚Üí</span>
                <div class="progress-step" id="progress-3">
                    <span class="step-number">3</span>
                    Configuration
                </div>
                <span class="progress-arrow">‚Üí</span>
                <div class="progress-step" id="progress-4">
                    <span class="step-number">4</span>
                    Quote
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Step 1: Use Case Selection -->
                <div class="step-content active" id="step-1">
                    <h2 class="step-title">Select Your Primary Use Case</h2>
                    <p class="step-subtitle">Choose the solution that best fits your agency's mission</p>

                    <div class="cards-grid cards-grid-3">
                        <!-- Intelligence -->
                        <div class="selection-card" onclick="selectUseCase('intelligence')">
                            <input type="radio" id="intelligence" name="useCase">
                            <div class="card-header">
                                <div class="card-radio"></div>
                                <div class="card-title">üîç Intelligence</div>
                            </div>
                            <p class="card-description">Strategic insights for national security, policy analysis, and threat detection. Ideal for intelligence agencies and strategic planning units.</p>
                        </div>

                        <!-- Investigations -->
                        <div class="selection-card" onclick="selectUseCase('investigations')">
                            <input type="radio" id="investigations" name="useCase">
                            <div class="card-header">
                                <div class="card-radio"></div>
                                <div class="card-title">üîé Investigations</div>
                            </div>
                            <p class="card-description">Deep-dive investigations and compliance verification. Perfect for law enforcement, regulatory bodies, and audit departments.</p>
                        </div>

                        <!-- Supply Chain Risk -->
                        <div class="selection-card" onclick="selectUseCase('supplyChain')">
                            <input type="radio" id="supplyChain" name="useCase">
                            <div class="card-header">
                                <div class="card-radio"></div>
                                <div class="card-title">üîó Supply Chain Risk</div>
                            </div>
                            <p class="card-description">Vendor risk assessment and supply chain integrity monitoring. Best for procurement offices and contract management.</p>
                        </div>
                    </div>

                    <div class="info-alert">
                        <span class="info-alert-icon">üí°</span>
                        <span class="info-alert-text"><strong>All packages include:</strong> Orbis Global, BFO, Orbis T-Rank, and GRID Review as part of the base offering.</span>
                    </div>
                </div>

                <!-- Step 2: Users & Add-On Package -->
                <div class="step-content" id="step-2">
                    <h2 class="step-title">Users & Package Selection</h2>
                    <p class="step-subtitle">Enter your number of users and select an add-on package</p>

                    <!-- User Count Input -->
                    <div class="form-section">
                        <h3 class="form-section-title">üë• Number of Users</h3>
                        <div class="form-group">
                            <label class="form-label">How many users will need access?</label>
                            <div class="user-input-wrapper">
                                <input type="number" class="form-input" id="user-count" min="1" max="100" value="1" oninput="updateVolumeTier()">
                                <div class="volume-tier-display" id="volume-tier-display">
                                    <strong>Volume Tier</strong>
                                    <span id="volume-tier-text">1-2 Users</span>
                                </div>
                            </div>
                            <p class="form-help">Enter the total number of users. Pricing per user adjusts based on volume tiers.</p>
                        </div>
                    </div>

                    <!-- Add-On Packages -->
                    <div class="form-section">
                        <h3 class="form-section-title">üì¶ Add-On Package</h3>
                        <p class="form-help" style="margin-bottom: 20px;">Select an add-on package to enhance your solution. Each tier builds on the previous‚ÄîPlus includes Standard, and Premium includes both.</p>
                        
                        <div class="cards-grid cards-grid-4" id="addon-cards">
                            <!-- Cards will be populated dynamically based on use case -->
                        </div>
                    </div>
                </div>

                <!-- Step 3: Configuration -->
                <div class="step-content" id="step-3">
                    <h2 class="step-title">Configuration</h2>
                    <p class="step-subtitle">Customize your deployment settings</p>

                    <div class="form-section">
                        <h3 class="form-section-title">üåç Region</h3>
                        <div class="form-group">
                            <label class="form-label">Select your primary region</label>
                            <select class="form-select" id="region">
                                <option value="north-america">North America</option>
                                <option value="west-north-europe">West/North Europe</option>
                                <option value="middle-east">Middle East</option>
                                <option value="north-asia-oceania">North Asia & Oceania</option>
                                <option value="east-south-europe">East/South Europe</option>
                                <option value="south-america-africa">South America & Africa</option>
                                <option value="south-asia">South Asia</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="form-section-title">üöÄ Delivery Method</h3>
                        <div class="form-group">
                            <label class="form-label">How will you access the solution?</label>
                            <select class="form-select" id="delivery">
                                <option value="web">Web/UI</option>
                                <option value="hybrid">Hybrid - UI + API</option>
                                <option value="api">API Direct Integration</option>
                            </select>
                            <p class="form-help">Choose the access method that fits your workflow</p>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="form-section-title">üèõÔ∏è Agency Type</h3>
                        <div class="form-group">
                            <label class="form-label">What type of government agency?</label>
                            <select class="form-select" id="agency-type">
                                <option value="federal">Federal/Central Government</option>
                                <option value="state">State Government</option>
                                <option value="local">Local Government</option>
                            </select>
                        </div>
                    </div>

                    <!-- Entity Volume (Supply Chain Only) -->
                    <div class="form-section hidden" id="entity-volume-section">
                        <h3 class="form-section-title">üìà Entity Volume</h3>
                        <div class="form-group">
                            <label class="form-label">Expected entity volume per year</label>
                            <select class="form-select" id="entity-volume">
                                <option value="small">&lt;10K Entities</option>
                                <option value="medium">10K-50K Entities</option>
                                <option value="large">50K-250K Entities</option>
                                <option value="enterprise">250K-1M+ Entities</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Quote Summary -->
                <div class="step-content" id="step-4">
                    <h2 class="step-title">üìã Your Custom Quote</h2>
                    <p class="step-subtitle">Review your configured package</p>

                    <div class="quote-grid">
                        <div>
                            <div class="quote-section">
                                <h3 class="quote-section-title">üéØ Package Configuration</h3>
                                <div class="quote-item">
                                    <span class="quote-item-label">Use Case</span>
                                    <span class="quote-item-value" id="quote-usecase">-</span>
                                </div>
                                <div class="quote-item">
                                    <span class="quote-item-label">Number of Users</span>
                                    <span class="quote-item-value" id="quote-users">-</span>
                                </div>
                                <div class="quote-item">
                                    <span class="quote-item-label">Volume Tier</span>
                                    <span class="quote-item-value" id="quote-tier">-</span>
                                </div>
                                <div class="quote-item">
                                    <span class="quote-item-label">Add-On Package</span>
                                    <span class="quote-item-value" id="quote-addon">-</span>
                                </div>
                            </div>

                            <div class="quote-section">
                                <h3 class="quote-section-title">‚öôÔ∏è Configuration</h3>
                                <div class="quote-item">
                                    <span class="quote-item-label">Region</span>
                                    <span class="quote-item-value" id="quote-region">-</span>
                                </div>
                                <div class="quote-item">
                                    <span class="quote-item-label">Delivery Method</span>
                                    <span class="quote-item-value" id="quote-delivery">-</span>
                                </div>
                                <div class="quote-item">
                                    <span class="quote-item-label">Agency Type</span>
                                    <span class="quote-item-value" id="quote-agency">-</span>
                                </div>
                                <div class="quote-item hidden" id="quote-volume-row">
                                    <span class="quote-item-label">Entity Volume</span>
                                    <span class="quote-item-value" id="quote-volume">-</span>
                                </div>
                            </div>

                        </div>

                        <div>
                            <div class="quote-section">
                                <h3 class="quote-section-title">üì¶ SILE Base Package Included</h3>
                                <ul class="package-features">
                                    <li>Orbis Global</li>
                                    <li>Beneficial Ownership</li>
                                    <li>Orbis T-Rank</li>
                                    <li>GRID Review</li>
                                </ul>
                            </div>

                            <div class="quote-section">
                                <h3 class="quote-section-title">‚ú® Add-On Features</h3>
                                <div id="quote-addon-features"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Pricing Card -->
                    <div class="pricing-card">
                        <div class="pricing-row total">
                            <span class="pricing-label">ANNUAL SUBSCRIPTION</span>
                            <span class="pricing-value" id="final-total">$0</span>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn btn-success" onclick="copyQuote()">üìã Copy Quote Summary</button>
                        <button class="btn btn-primary" onclick="printQuote()">üñ®Ô∏è Print Quote</button>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="navigation">
                <button class="btn btn-secondary" id="btn-prev" onclick="previousStep()" disabled>
                    ‚Üê Previous
                </button>
                <button class="btn btn-primary" id="btn-next" onclick="nextStep()">
                    Next ‚Üí
                </button>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // STATE MANAGEMENT
        // ==========================================
        let currentStep = 1;
        let configData = {
            useCase: '',
            userCount: 1,
            addOn: 'base',
            region: 'north-america',
            delivery: 'web',
            agencyType: 'federal',
            entityVolume: 'medium'
        };

        // ==========================================
        // PRICING DATA - Per User Rates by Volume Tier
        // ==========================================
        const perUserPricing = {
            intelligence: {
                '1-2': 125000,
                '3-5': 118000,
                '6-10': 112800,
                '11-14': 108000,
                '15-19': 104000,
                '20+': 100000
            },
            investigations: {
                '1-2': 100000,
                '3-5': 94000,
                '6-10': 90000,
                '11-14': 86000,
                '15-19': 83000,
                '20+': 80000
            },
            supplyChain: {
                '1-2': 75000,
                '3-5': 70000,
                '6-10': 67000,
                '11-14': 64000,
                '15-19': 62000,
                '20+': 60000
            }
        };

        // Add-on pricing per user by volume tier
        const addOnPerUserPricing = {
            '1-2': { standard: 18750, plus: 37500, premium: 81250 },
            '3-5': { standard: 15000, plus: 30000, premium: 65000 },
            '6-10': { standard: 12750, plus: 25500, premium: 55250 },
            '11-14': { standard: 12000, plus: 24000, premium: 52000 },
            '15-19': { standard: 11250, plus: 22500, premium: 48750 },
            '20+': { standard: 10500, plus: 21000, premium: 45500 }
        };

        const multipliers = {
            region: {
                'north-america': 1.0, 'west-north-europe': 1.0, 'middle-east': 0.9,
                'north-asia-oceania': 0.9, 'east-south-europe': 0.8,
                'south-america-africa': 0.7, 'south-asia': 0.7
            },
            delivery: { 'web': 1.0, 'hybrid': 1.15, 'api': 1.2 },
            agency: { 'federal': 1.0, 'state': 0.8, 'local': 0.7 },
            entityVolume: { 'small': 0.9, 'medium': 1.0, 'large': 1.2, 'enterprise': 1.3 }
        };

        // ==========================================
        // ADD-ON PACKAGE FEATURES (CUMULATIVE - each tier builds on previous)
        // ==========================================
        // Base features for each tier (what's NEW in that tier)
        const addOnFeaturesBase = {
            intelligence: {
                standard: ['T-Rank Power & Coalitions', 'Orbis IP'],
                plus: ['Pathfinder', 'News Edge', 'Shell Company Indicator'],
                premium: ['Cyber Risk (Bitsight)', 'Orbis Cross Border', 'Orbis M&A']
            },
            investigations: {
                standard: ['T-Rank Power & Coalitions', 'State Owned Entities', 'ICIJ'],
                plus: ['Shell Company Indicator', 'News Edge', 'Pathfinder', 'FS Standard'],
                premium: ['Orbis M&A', 'Cyber Risk (Bitsight)', 'Orbis Cross Border']
            },
            supplyChain: {
                standard: ['Financial Strength', 'ESG Score', 'Probability of Default'],
                plus: ['Cyber Risk (Bitsight)', 'News Edge', 'Shell Company Indicator'],
                premium: ['ORBIS M&A', 'Orbis Cross Border', 'Sanctions 360']
            }
        };

        // Cumulative features (what's INCLUDED in each tier)
        const addOnFeatures = {
            intelligence: {
                base: [],
                standard: [...addOnFeaturesBase.intelligence.standard],
                plus: [...addOnFeaturesBase.intelligence.standard, ...addOnFeaturesBase.intelligence.plus],
                premium: [...addOnFeaturesBase.intelligence.standard, ...addOnFeaturesBase.intelligence.plus, ...addOnFeaturesBase.intelligence.premium]
            },
            investigations: {
                base: [],
                standard: [...addOnFeaturesBase.investigations.standard],
                plus: [...addOnFeaturesBase.investigations.standard, ...addOnFeaturesBase.investigations.plus],
                premium: [...addOnFeaturesBase.investigations.standard, ...addOnFeaturesBase.investigations.plus, ...addOnFeaturesBase.investigations.premium]
            },
            supplyChain: {
                base: [],
                standard: [...addOnFeaturesBase.supplyChain.standard],
                plus: [...addOnFeaturesBase.supplyChain.standard, ...addOnFeaturesBase.supplyChain.plus],
                premium: [...addOnFeaturesBase.supplyChain.standard, ...addOnFeaturesBase.supplyChain.plus, ...addOnFeaturesBase.supplyChain.premium]
            }
        };

        // Add-on guidance text per use case
        const addOnGuidance = {
            intelligence: {
                base: '',
                standard: 'Add for agencies who need to analyze power structures, political coalitions, and track intellectual property ownership across global entities.',
                plus: 'Includes everything in Standard, plus add for agencies who need advanced network visualization to uncover hidden connections, real-time news monitoring, and detection of shell company structures.',
                premium: 'Includes everything in Standard and Plus, plus add for agencies who need comprehensive cyber threat assessment, cross-border transaction tracking, and merger & acquisition intelligence for national security analysis.'
            },
            investigations: {
                base: '',
                standard: 'Add for agencies who need to identify power structures, uncover state-owned entity connections, and access ICIJ investigative databases for financial crime cases.',
                plus: 'Includes everything in Standard, plus add for agencies who need shell company detection for fraud investigations, adverse media monitoring, and detailed financial statement analysis.',
                premium: 'Includes everything in Standard and Plus, plus add for agencies who need complete M&A transaction histories, cyber vulnerability assessments, and cross-border financial flow analysis for complex investigations.'
            },
            supplyChain: {
                base: '',
                standard: 'Add for agencies who need vendor financial health assessments, ESG sustainability scoring, and credit risk evaluation for procurement decisions.',
                plus: 'Includes everything in Standard, plus add for agencies who need supplier cyber risk monitoring, real-time news alerts on vendor issues, and beneficial ownership clarity to reduce supply chain risk.',
                premium: 'Includes everything in Standard and Plus, plus add for agencies who need acquisition history tracking, international supplier verification, and comprehensive sanctions screening for high-risk contracts.'
            }
        };

        // ==========================================
        // LABELS
        // ==========================================
        const labels = {
            useCase: { 'intelligence': 'Intelligence', 'investigations': 'Investigations', 'supplyChain': 'Supply Chain Risk' },
            region: {
                'north-america': 'North America', 'west-north-europe': 'West/North Europe',
                'middle-east': 'Middle East', 'north-asia-oceania': 'North Asia & Oceania',
                'east-south-europe': 'East/South Europe', 'south-america-africa': 'South America & Africa',
                'south-asia': 'South Asia'
            },
            delivery: { 'web': 'Web/UI', 'hybrid': 'Hybrid (UI + API)', 'api': 'API Direct Integration' },
            agency: { 'federal': 'Federal/Central', 'state': 'State', 'local': 'Local' },
            volume: { 'small': '<10K Entities', 'medium': '10K-50K Entities', 'large': '50K-250K Entities', 'enterprise': '250K-1M+ Entities' },
            addOn: { 'base': 'Base Only', 'standard': 'Standard', 'plus': 'Plus', 'premium': 'Premium' }
        };

        // ==========================================
        // HELPER: GET VOLUME TIER
        // ==========================================
        function getVolumeTier(userCount) {
            if (userCount <= 2) return '1-2';
            if (userCount <= 5) return '3-5';
            if (userCount <= 10) return '6-10';
            if (userCount <= 14) return '11-14';
            if (userCount <= 19) return '15-19';
            return '20+';
        }

        function getVolumeTierLabel(userCount) {
            if (userCount <= 2) return '1-2 Users';
            if (userCount <= 5) return '3-5 Users';
            if (userCount <= 10) return '6-10 Users';
            if (userCount <= 14) return '11-14 Users';
            if (userCount <= 19) return '15-19 Users';
            return '20+ Users';
        }

        // ==========================================
        // NAVIGATION
        // ==========================================
        function nextStep() {
            if (!validateStep(currentStep)) return;
            
            if (currentStep < 4) {
                currentStep++;
                updateStep();
                
                if (currentStep === 2) {
                    renderAddOnCards();
                    updateVolumeTier();
                }
                
                if (currentStep === 3) {
                    toggleEntityVolumeSection();
                }
                
                if (currentStep === 4) {
                    generateQuote();
                }
            }
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                updateStep();
            }
        }

        function updateStep() {
            document.querySelectorAll('.step-content').forEach(step => step.classList.remove('active'));
            document.getElementById(`step-${currentStep}`).classList.add('active');
            
            for (let i = 1; i <= 4; i++) {
                const progressStep = document.getElementById(`progress-${i}`);
                progressStep.classList.remove('active', 'completed');
                if (i < currentStep) progressStep.classList.add('completed');
                else if (i === currentStep) progressStep.classList.add('active');
            }
            
            document.getElementById('btn-prev').disabled = currentStep === 1;
            const btnNext = document.getElementById('btn-next');
            if (currentStep === 4) {
                btnNext.innerHTML = '‚úì Complete';
                btnNext.disabled = true;
            } else {
                btnNext.innerHTML = 'Next ‚Üí';
                btnNext.disabled = false;
            }
        }

        function validateStep(step) {
            switch(step) {
                case 1:
                    if (!configData.useCase) { alert('Please select a use case to continue.'); return false; }
                    return true;
                case 2:
                    const userCount = parseInt(document.getElementById('user-count').value) || 0;
                    if (userCount < 1) { alert('Please enter at least 1 user.'); return false; }
                    configData.userCount = userCount;
                    return true;
                default:
                    return true;
            }
        }

        // ==========================================
        // SELECTION FUNCTIONS
        // ==========================================
        function selectUseCase(useCase) {
            document.querySelectorAll('#step-1 .selection-card').forEach(card => {
                card.classList.remove('selected');
                card.querySelector('input').checked = false;
            });
            
            const card = document.querySelector(`#${useCase}`).closest('.selection-card');
            document.getElementById(useCase).checked = true;
            card.classList.add('selected');
            configData.useCase = useCase;
        }

        function selectAddOn(addon) {
            document.querySelectorAll('[name="addOn"]').forEach(input => {
                input.closest('.selection-card').classList.remove('selected');
                input.checked = false;
            });
            
            const addonId = `addon-${addon}`;
            const card = document.querySelector(`#${addonId}`).closest('.selection-card');
            document.getElementById(addonId).checked = true;
            card.classList.add('selected');
            configData.addOn = addon;
        }

        function updateVolumeTier() {
            const userCount = parseInt(document.getElementById('user-count').value) || 1;
            configData.userCount = userCount;
            const tierLabel = getVolumeTierLabel(userCount);
            document.getElementById('volume-tier-text').textContent = tierLabel;
        }

        // ==========================================
        // RENDER ADD-ON CARDS (Independent packages)
        // ==========================================
        function renderAddOnCards() {
            const container = document.getElementById('addon-cards');
            const useCase = configData.useCase;
            const features = addOnFeatures[useCase];
            const guidance = addOnGuidance[useCase];
            
            const addOns = [
                { key: 'base', name: 'Base Only', tier: '' },
                { key: 'standard', name: 'Standard', tier: 'standard' },
                { key: 'plus', name: 'Plus', tier: 'plus' },
                { key: 'premium', name: 'Premium', tier: 'premium' }
            ];

            let html = '';
            addOns.forEach(addon => {
                const isSelected = addon.key === configData.addOn;
                const featureList = features[addon.key];
                const guidanceText = guidance[addon.key];
                
                html += `
                    <div class="selection-card ${isSelected ? 'selected' : ''}" onclick="selectAddOn('${addon.key}')">
                        <input type="radio" id="addon-${addon.key}" name="addOn" ${isSelected ? 'checked' : ''}>
                        <div class="card-header">
                            <div class="card-radio"></div>
                            <div class="card-title">${addon.name}</div>
                        </div>
                        ${addon.tier ? `<span class="tier-badge ${addon.tier}">${addon.tier}</span>` : ''}
                        ${guidanceText ? `<p class="card-guidance">${guidanceText}</p>` : '<p class="card-guidance" style="color: #94a3b8;">Core functionality without additional add-ons.</p>'}
                        ${featureList.length > 0 ? `
                            <div class="card-features">
                                <div class="card-features-title">Includes</div>
                                <ul>
                                    ${featureList.map(f => `<li>${f}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // ==========================================
        // HELPER FUNCTIONS
        // ==========================================
        function toggleEntityVolumeSection() {
            const section = document.getElementById('entity-volume-section');
            if (configData.useCase === 'supplyChain') {
                section.classList.remove('hidden');
            } else {
                section.classList.add('hidden');
            }
        }

        // ==========================================
        // QUOTE GENERATION
        // ==========================================
        function generateQuote() {
            // Get current values
            configData.region = document.getElementById('region').value;
            configData.delivery = document.getElementById('delivery').value;
            configData.agencyType = document.getElementById('agency-type').value;
            configData.entityVolume = document.getElementById('entity-volume').value;

            const userCount = configData.userCount;
            const volumeTier = getVolumeTier(userCount);

            // Calculate base price: users √ó per-user rate
            const perUserRate = perUserPricing[configData.useCase][volumeTier];
            const baseTotal = userCount * perUserRate;

            // Calculate add-on price: users √ó per-user add-on rate
            let addOnTotal = 0;
            if (configData.addOn !== 'base') {
                const addOnPerUser = addOnPerUserPricing[volumeTier][configData.addOn];
                addOnTotal = userCount * addOnPerUser;
            }

            // Subtotal before multipliers
            let subtotal = baseTotal + addOnTotal;

            // Apply multipliers
            let combinedMultiplier = multipliers.region[configData.region]
                * multipliers.delivery[configData.delivery]
                * multipliers.agency[configData.agencyType];

            if (configData.useCase === 'supplyChain') {
                combinedMultiplier *= multipliers.entityVolume[configData.entityVolume];
            }

            const total = subtotal * combinedMultiplier;

            // Update display
            document.getElementById('quote-usecase').textContent = labels.useCase[configData.useCase];
            document.getElementById('quote-users').textContent = userCount + (userCount === 1 ? ' User' : ' Users');
            document.getElementById('quote-tier').textContent = getVolumeTierLabel(userCount);
            document.getElementById('quote-addon').textContent = labels.addOn[configData.addOn];
            document.getElementById('quote-region').textContent = labels.region[configData.region];
            document.getElementById('quote-delivery').textContent = labels.delivery[configData.delivery];
            document.getElementById('quote-agency').textContent = labels.agency[configData.agencyType];

            // Entity Volume
            const volumeRow = document.getElementById('quote-volume-row');
            if (configData.useCase === 'supplyChain') {
                volumeRow.classList.remove('hidden');
                document.getElementById('quote-volume').textContent = labels.volume[configData.entityVolume];
            } else {
                volumeRow.classList.add('hidden');
            }

            // Add-on features (independent, not cumulative)
            const features = addOnFeatures[configData.useCase][configData.addOn];
            const featuresContainer = document.getElementById('quote-addon-features');
            if (features.length > 0) {
                featuresContainer.innerHTML = `
                    <div class="feature-pills">
                        ${features.map(f => `<span class="feature-pill">${f}</span>`).join('')}
                    </div>
                `;
            } else {
                featuresContainer.innerHTML = '<p style="color: #64748b; font-style: italic;">No additional add-on features selected</p>';
            }

            // Final price
            document.getElementById('final-total').textContent = '$' + Math.round(total).toLocaleString() + '/year';
        }

        // ==========================================
        // EXPORT FUNCTIONS
        // ==========================================
        function copyQuote() {
            const userCount = configData.userCount;
            const volumeTier = getVolumeTier(userCount);

            const perUserRate = perUserPricing[configData.useCase][volumeTier];
            const baseTotal = userCount * perUserRate;

            let addOnTotal = 0;
            if (configData.addOn !== 'base') {
                const addOnPerUser = addOnPerUserPricing[volumeTier][configData.addOn];
                addOnTotal = userCount * addOnPerUser;
            }

            let subtotal = baseTotal + addOnTotal;

            let combinedMultiplier = multipliers.region[configData.region]
                * multipliers.delivery[configData.delivery]
                * multipliers.agency[configData.agencyType];

            if (configData.useCase === 'supplyChain') {
                combinedMultiplier *= multipliers.entityVolume[configData.entityVolume];
            }

            const total = subtotal * combinedMultiplier;
            const features = addOnFeatures[configData.useCase][configData.addOn];

            let summary = `MOODY'S FOR GOVERNMENTS
PRICING & PACKAGING QUOTE
========================================

PACKAGE CONFIGURATION
---------------------
Use Case: ${labels.useCase[configData.useCase]}
Number of Users: ${userCount}
Volume Tier: ${getVolumeTierLabel(userCount)}
Add-On Package: ${labels.addOn[configData.addOn]}

CONFIGURATION
-------------
Region: ${labels.region[configData.region]}
Delivery Method: ${labels.delivery[configData.delivery]}
Agency Type: ${labels.agency[configData.agencyType]}`;

            if (configData.useCase === 'supplyChain') {
                summary += `
Entity Volume: ${labels.volume[configData.entityVolume]}`;
            }

            summary += `

SILE BASE PACKAGE INCLUDED
--------------------------
‚Ä¢ Orbis Global
‚Ä¢ Beneficial Ownership
‚Ä¢ Orbis T-Rank
‚Ä¢ GRID Review`;

            if (features.length > 0) {
                summary += `

ADD-ON FEATURES (${labels.addOn[configData.addOn]})
------------------------
${features.map(f => '‚Ä¢ ' + f).join('\n')}`;
            }

            summary += `

========================================
ANNUAL SUBSCRIPTION: $${Math.round(total).toLocaleString()}/year
========================================`;

            navigator.clipboard.writeText(summary).then(() => {
                alert('‚úÖ Quote summary copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy:', err);
                alert('Failed to copy to clipboard. Please try again.');
            });
        }

        function printQuote() {
            window.print();
        }

        // ==========================================
        // INITIALIZATION
        // ==========================================
        document.addEventListener('DOMContentLoaded', function() {
            updateStep();
        });
    </script>
</body>
</html>
